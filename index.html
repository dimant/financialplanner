<!DOCTYPE html>
<html lang="en">

<head>
    <title>Financial Planner</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;900&display=swap" rel="stylesheet">
    <script defer src="https://cdn.jsdelivr.net/npm/@alpinejs/collapse@3.x.x/dist/cdn.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="styles.css" rel="stylesheet">
    <svg class="hidden">
        <symbol id="chevron-down" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            stroke-linecap="round" stroke-linejoin="round">
            <polyline points="6 9 12 15 18 9"></polyline>
        </symbol>
    </svg>
    <svg class="hidden">
        <symbol id="sliders" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            stroke-linecap="round" stroke-linejoin="round">
            <line x1="4" y1="6" x2="20" y2="6" />
            <circle cx="6" cy="6" r="1.5" />
            <line x1="4" y1="12" x2="20" y2="12" />
            <circle cx="14" cy="12" r="1.5" />
            <line x1="4" y1="18" x2="20" y2="18" />
            <circle cx="10" cy="18" r="1.5" />
        </symbol>
    </svg>
    <style>
        [x-cloak] {
            display: none;
        }
    </style>
</head>

<body x-cloak x-data="{ isOpen: false }" class="flex flex-col h-screen" @keydown.escape.window="isOpen = false">
    <header class="gradient-primary">
        <div class="container flex px-4 drop-shadow-lg">
            <button class="px-2 text-gray-300 transition duration-200 hover:text-white focus:outline-none lg:hidden"
                @click="isOpen = true">
                <svg class="h-7 w-7 sm:h-12 sm:w-12">
                    <use href="#sliders"></use>
                </svg>
            </button>
            <h1 class="text-3xl font-extrabold text-white tracking-wide" style="font-family: 'Montserrat', sans-serif;">
                Retirement Simulator</h1>
        </div>
    </header>

    <div class="flex flex-col lg:flex-row w-full flex-1">
        <!-- Overlay backdrop for mobile -->
        <div x-show="isOpen" @click="isOpen = false" class="fixed inset-0 bg-black/50 z-10 lg:hidden"
            style="display: none;">
        </div>

        <nav x-cloak
            class="fixed left-0 top-0 h-screen lg:relative lg:h-auto w-[90%] lg:w-96 z-20 p-4 bg-gray-200 text-gray-600 transition-transform duration-300 overflow-y-auto lg:overflow-y-visible -translate-x-full lg:translate-x-0"
            :class="{'translate-x-0': isOpen, '-translate-x-full': !isOpen}">

            <!-- Sidebar header with title and close button -->
            <div class="flex justify-between mb-4 mt-6 ml-4 lg:mt-0 lg:ml-0">
                <span class="font-bold text-5xl lg:text-2xl">Controls</span>
                <!-- Close button: Closes sidebar by setting isOpen to false -->
                <button class="p-2 rounded hover:bg-blue-800 lg:hidden" @click="isOpen = false">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 sm:h-12 sm:w-12" fill="none"
                        viewBox="0 0 24 24" stroke="currentColor">
                        <!-- X close icon -->
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <!-- Form will go here -->
            <form class="space-y-4" x-data="{ activeAccordion: '' }">
                <!-- Basic Inputs -->
                <!-- Years Until Retirement -->
                <div>
                    <label for="yearsUntilRetirement" class="block text-sm font-semibold mb-2">Years Until
                        Retirement</label>
                    <input id="yearsUntilRetirement" type="number" min="0" max="100" value="15"
                        class="w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded text-gray-800" />
                </div>

                <!-- Current Savings -->
                <div>
                    <label for="currentSavings" class="block text-sm font-semibold mb-2">Current Savings</label>
                    <input id="currentSavings" type="number" min="0" step="100000" value="500000"
                        class="w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded text-gray-800" />
                </div>

                <!-- Annual Savings Until Retirement -->
                <div>
                    <label for="annualSavings" class="block text-sm font-semibold mb-2">Annual Savings Until
                        Retirement</label>
                    <input id="annualSavings" type="number" min="0" step="1000" value="20000"
                        class="w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded text-gray-800" />
                </div>

                <!-- Years in Retirement -->
                <div>
                    <label for="retirementYears" class="block text-sm font-semibold mb-2">Years in Retirement</label>
                    <input id="retirementYears" type="number" min="0" max="100" value="30"
                        class="w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded text-gray-800" />
                </div>

                <!-- Annual Expenses in Retirement -->
                <div>
                    <label for="annualExpenses" class="block text-sm font-semibold mb-2">Annual Expenses in
                        Retirement</label>
                    <input id="annualExpenses" type="number" min="0" step="10000" value="80000"
                        class="w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded text-gray-800" />
                </div>

                <!-- Advanced Settings Accordion -->
                <div class="border border-gray-300 rounded-md overflow-hidden mt-6">
                    <div x-data="{ id: 'advanced' }" class="cursor-pointer group">
                        <button type="button" @click="activeAccordion = (activeAccordion == id) ? '' : id"
                            class="flex items-center justify-between w-full p-3 bg-gray-100 hover:bg-gray-150 text-left select-none font-semibold">
                            <span>Advanced Settings</span>
                            <svg class="w-4 h-4 duration-200 ease-out"
                                :class="{ 'rotate-180': activeAccordion=='advanced' }" viewBox="0 0 24 24"
                                xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="6 9 12 15 18 9"></polyline>
                            </svg>
                        </button>
                        <div x-show="activeAccordion=='advanced'" x-collapse x-cloak
                            class="space-y-4 p-3 bg-white border-t border-gray-300">
                            <!-- Inflation Rate -->
                            <div>
                                <label for="inflationRate" class="block text-sm font-semibold mb-2">Inflation Rate
                                    (%)</label>
                                <input id="inflationRate" type="number" min="0" max="100" step="0.1" value="2.5"
                                    class="w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded text-gray-800" />
                            </div>

                            <!-- Retirement Tax Rate -->
                            <div>
                                <label for="retirementTaxRate" class="block text-sm font-semibold mb-2">Retirement Tax
                                    Rate (%)</label>
                                <input id="retirementTaxRate" type="number" min="0" max="100" step="1" value="15"
                                    class="w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded text-gray-800" />
                            </div>

                            <!-- Expected Annual Return Mean -->
                            <div>
                                <label for="meanReturn" class="block text-sm font-semibold mb-2">Expected Annual Return
                                    Mean (%)</label>
                                <input id="meanReturn" type="number" min="0" max="100" step="0.5" value="6"
                                    class="w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded text-gray-800" />
                            </div>

                            <!-- Expected Annual Return Std Dev -->
                            <div>
                                <label for="standardDeviationReturn" class="block text-sm font-semibold mb-2">Expected
                                    Annual Return Std Dev (0-1)</label>
                                <input id="standardDeviationReturn" type="number" min="0" max="1" step="0.001"
                                    value="0.12"
                                    class="w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded text-gray-800" />
                            </div>

                            <!-- Number of Simulations -->
                            <div>
                                <label for="numSimulations" class="block text-sm font-semibold mb-2">Number of
                                    Simulations</label>
                                <input id="numSimulations" type="number" min="1" max="100000" value="100000"
                                    class="w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded text-gray-800" />
                            </div>
                        </div>
                    </div>
                </div>

                <button type="submit"
                    class="w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-2 rounded transition mt-4">Update
                    Chart</button>
            </form>
        </nav>

        <!-- Main content area -->
        <div class="flex-1 w-full p-4 lg:p-8 overflow-y-auto">
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-2xl font-bold mb-6 text-emerald-700" style="font-family: 'Montserrat', sans-serif;">Asset Growth Chart</h2>
                <div class="relative w-full aspect-[16/9] bg-gray-50 rounded border border-gray-200">
                    <canvas id="growthChart" class="absolute inset-0 w-full h-full"></canvas>
                </div>
            </div>
        </div>
    </div>

    <footer class="gradient-primary">
        <div class="container mx-auto text-center">
            <p class="font-medium text-white">&copy; 2025 Financial Planner. All rights reserved.</p>
        </div>
    </footer>
</body>
<script src="script.js"></script>

</html>